!function(t,a,i,r){t.fn.wc_variation_form_lightbox=function(i){return t.fn.wc_variation_form_lightbox.find_matching_variations=function(a,i){for(var r=[],n=0;n<a.length;n++){{var e=a[n];e.variation_id}t.fn.wc_variation_form_lightbox.variations_match(e.attributes,i)&&r.push(e)}return r},t.fn.wc_variation_form_lightbox.variations_match=function(t,a){var i,n=!0;for(i in t){var e=t[i],o=a[i];e!==r&&o!==r&&0!=e.length&&0!=o.length&&e!=o&&(n=!1)}return n},this.unbind("check_variations update_variation_values found_variation"),this.find(".reset_variations").unbind("click"),this.find(".variations select").unbind("change focusin"),$form=this.on("click",".reset_variations",function(){t(this).closest(".variations_form").find(".variations select").val("").change();var a=t(this).closest(".product").find(".sku"),i=t(this).closest(".product").find(".product_weight"),r=t(this).closest(".product").find(".product_dimensions");return a.attr("data-o_sku")&&a.text(a.attr("data-o_sku")),i.attr("data-o_weight")&&i.text(i.attr("data-o_weight")),r.attr("data-o_dimensions")&&r.text(r.attr("data-o_dimensions")),t(this).parents(".product-lightbox").find(".nasa-mess-unavailable").remove(),!1}).on("change",".variations select",function(){$variation_form=t(this).closest(".variations_form"),$variation_form.find("input[name=variation_id]").val("").change(),$variation_form.trigger("woocommerce_variation_select_change").trigger("check_variations",["",!1]),t(this).blur(),t().uniform&&t.isFunction(t.uniform.update)&&t.uniform.update()}).on("focusin touchstart",".variations select",function(){$variation_form=t(this).closest(".variations_form"),$variation_form.trigger("woocommerce_variation_select_focusin").trigger("check_variations",[t(this).attr("name"),!0])}).on("check_variations",function(i,r,n){var e=!0,o=!1,s={},_=t(this),c=_.find(".reset_variations");_.find(".single_variation_wrap").show(),_.find(".variations select").each(function(){0==t(this).val().length?e=!1:o=!0,r&&t(this).attr("name")==r?(e=!1,s[t(this).attr("name")]=""):(value=t(this).val(),s[t(this).attr("name")]=value)});var d=parseInt(_.data("product_id")),l=_.data("product_variations");l||(l=a.product_variations[d]),l||(l=a.product_variations),l||(l=a["product_variations_"+d]);var v=t.fn.wc_variation_form_lightbox.find_matching_variations(l,s);if(e){var u=v.shift();u?(_.find("input[name=variation_id]").val(u.variation_id).change(),_.trigger("found_variation",[u])):(_.find(".variations select").val(""),n||_.trigger("reset_image"),alert(woocommerce_params.i18n_no_matching_variations_text))}else _.trigger("update_variation_values",[v]),n||_.trigger("reset_image"),r||_.find(".single_variation_wrap").css({opacity:.6}),_.parents(".product-lightbox").find(".nasa-mess-unavailable").remove();o?"hidden"==c.css("visibility")&&c.css("visibility","visible").hide().fadeIn():c.css("visibility","hidden")}).on("reset_image",function(){var a=t(this).parents(".product-lightbox"),i=a.find(".product-img .owl-item:eq(0) img"),n=a.find("div.images a.zoom:eq(0)"),e=i.attr("data-o_src"),o=i.attr("data-o_title"),s=i.attr("data-o_alt"),_=n.attr("data-o_href");e!=r&&i.attr("src",e),_!=r&&n.attr("href",_),o!=r&&(i.attr("title",o),n.attr("title",o)),s!=r&&i.attr("alt",s),a.find(".nasa-mess-unavailable").remove()}).on("update_variation_values",function(a,i){$variation_form=t(this).closest(".variations_form"),$variation_form.find(".variations select").each(function(a,r){current_attr_select=t(r),current_attr_select.data("attribute_options")||current_attr_select.data("attribute_options",current_attr_select.find("option:gt(0)").get()),current_attr_select.find("option:gt(0)").remove(),current_attr_select.append(current_attr_select.data("attribute_options")),current_attr_select.find("option:gt(0)").removeClass("active");var n=current_attr_select.attr("name");for(num in i)if("undefined"!=typeof i[num]){var e=i[num].attributes;for(attr_name in e){var o=e[attr_name];attr_name==n&&(o?(o=t("<div/>").html(o).text(),o=o.replace(/'/g,"\\'"),o=o.replace(/"/g,'\\"'),current_attr_select.find('option[value="'+o+'"]').addClass("active")):current_attr_select.find("option:gt(0)").addClass("active"))}}current_attr_select.find("option:gt(0):not(.active)").remove()}),$variation_form.trigger("woocommerce_update_variation_values")}).on("found_variation",function(a,n){var e=t(this),o=t(this).parents(".product-lightbox"),s=o.find(".product-img .owl-item:eq(0) img"),_=o.find("div.images a.zoom:eq(0)"),c=s.attr("data-o_src"),d=s.attr("data-o_title"),l=s.attr("data-o_alt"),v=_.attr("data-o_href"),u=n.image.src,f=n.image.link,m=n.image.title,h=n.image.alt;e.find(".variations_button").show(),e.find(".single_variation").html(n.price_html+n.availability_html),c==r&&(c=s.attr("src")?s.attr("src"):"",s.attr("data-o_src",c)),v==r&&(v=_.attr("href")?_.attr("href"):"",_.attr("data-o_href",v)),d==r&&(d=s.attr("title")?s.attr("title"):"",s.attr("data-o_title",d)),l==r&&(l=s.attr("alt")?s.attr("alt"):"",s.attr("data-o_alt",l)),u&&u.length>1?(s.attr("src",u).attr("alt",h).attr("title",m),_.attr("href",f).attr("title",m)):(s.attr("src",c).attr("alt",l).attr("title",d),_.attr("href",v).attr("title",d));var g=e.find(".single_variation_wrap"),p=o.find(".product_meta").find(".sku"),b=o.find(".product_weight"),w=o.find(".product_dimensions");p.attr("data-o_sku")||p.attr("data-o_sku",p.text()),b.attr("data-o_weight")||b.attr("data-o_weight",b.text()),w.attr("data-o_dimensions")||w.attr("data-o_dimensions",w.text()),n.sku?p.text(n.sku):p.text(p.attr("data-o_sku")),n.weight?b.text(n.weight):b.text(b.attr("data-o_weight")),n.dimensions?w.text(n.dimensions):w.text(w.attr("data-o_dimensions")),g.find(".quantity").show(),!n.is_in_stock&&!n.backorders_allowed&&e.find(".variations_button").css({opacity:.3}),n.min_qty?g.find("input[name=quantity]").attr("min",n.min_qty).val(n.min_qty):g.find("input[name=quantity]").removeAttr("min"),n.max_qty?g.find("input[name=quantity]").attr("max",n.max_qty):g.find("input[name=quantity]").removeAttr("max"),"yes"==n.is_sold_individually&&(g.find("input[name=quantity]").val("1"),g.find(".quantity").hide()),n.is_purchasable?(e.find(".nasa-mess-unavailable").remove(),g.css({opacity:1}).trigger("show_variation",[n])):(e.find(".nasa-mess-unavailable").length<=0&&g.before('<p class="nasa-mess-unavailable">'+i+"</p>"),g.css({opacity:.3}))}),$form.trigger("wc_variation_form_lightbox"),$form},t(function(){t(".product-lightbox .variations_form").wc_variation_form_lightbox(""),t(".product-lightbox .variations_form .variations select").change(),t('.product-lightbox .variations_form .variations select option[selected="selected"]').length&&t(".product-lightbox .variations_form .variations .reset_variations").css({visibility:"visible"}).show()})}(jQuery,window,document);